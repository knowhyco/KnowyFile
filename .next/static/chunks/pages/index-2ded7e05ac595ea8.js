(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3875)}])},569:function(e,s,a){"use strict";a.d(s,{z:function(){return n}});var t=a(5893);a(7294);let n=e=>{let{children:s,variant:a="default",size:n="default",...r}=e;return(0,t.jsx)("button",{className:"button ".concat(a," ").concat(n),...r,children:s})}},9447:function(e,s,a){"use strict";a.d(s,{E:function(){return n}});var t=a(5893);a(7294);let n=e=>{let{value:s}=e;return(0,t.jsx)("div",{className:"progress-container",children:(0,t.jsx)("div",{className:"progress-bar",style:{width:"".concat(s,"%")}})})}},6327:function(e,s,a){"use strict";a.d(s,{V:function(){return r}});var t=a(5893);a(7294);var n=a(640);let r=e=>{let{children:s}=e,{toasts:a}=(0,n.p)();return(0,t.jsxs)(t.Fragment,{children:[s,(0,t.jsx)("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2",children:a.map(e=>(0,t.jsxs)("div",{className:"p-4 rounded-md shadow-md ".concat("destructive"===e.variant?"bg-red-500":"bg-gray-800"," text-white"),children:[(0,t.jsx)("h3",{className:"font-bold",children:e.title}),(0,t.jsx)("p",{children:e.description})]},e.id))})]})}},640:function(e,s,a){"use strict";a.d(s,{A:function(){return r},p:function(){return n}});var t=a(7294);let n=()=>{let[e,s]=(0,t.useState)([]);return{toast:(0,t.useCallback)(e=>{s(s=>[...s,e]),setTimeout(()=>{s(e=>e.slice(1))},3e3)},[]),toasts:e}},r=e=>{let{toast:s}=n();s(e)}},3875:function(e,s,a){"use strict";a.r(s);var t=a(5893),n=a(7294),r=a(8901),i=a(6391),l=a(7340),c=a(3973),o=a(2604),d=a(569),m=a(9447),u=a(640),h=a(6327);s.default=()=>{let[e,s]=(0,n.useState)([]),[a,x]=(0,n.useState)(!1),[y,p]=(0,n.useState)(0),[j,b]=(0,n.useState)([]),f=async()=>{x(!0),p(0);for(let a=0;a<e.length;a++){let t=e[a];if(t.shareLink)continue;let n=new FormData;n.append("file",t);try{let r=await fetch("/api/upload",{method:"POST",body:n});if(!r.ok){let e=await r.json();throw Error(e.error||"Y\xfckleme başarısız")}let i=await r.json(),l={...t,shareLink:i.url};s(e=>e.map((e,s)=>s===a?l:e)),b(e=>[...e,l]),p((a+1)/e.length*100)}catch(e){console.error("Dosya y\xfckleme hatası:",e),(0,u.A)({title:"Y\xfckleme Hatası",description:"".concat(t.name," dosyası y\xfcklenemedi: ").concat(e.message),variant:"destructive"})}}x(!1)},k=async()=>{await f()},g=(0,n.useCallback)(e=>{s(s=>[...s,...e.map(e=>Object.assign(e,{preview:URL.createObjectURL(e),shareLink:null}))])},[]),{getRootProps:N,getInputProps:v,isDragActive:w}=(0,r.uI)({onDrop:g,maxSize:10485760}),z=e=>{navigator.clipboard.writeText(e),(0,u.A)({title:"Link Kopyalandı",description:"Paylaşım linki panoya kopyalandı."})},L=async()=>{try{let e=await fetch("/api/getUploadedFiles");if(!e.ok)throw Error("Dosyalar getirilemedi");let s=await e.json();b(s.files)}catch(e){console.error("Dosyaları getirme hatası:",e),(0,u.A)({title:"Hata",description:"\xd6nceden y\xfcklenen dosyalar getirilemedi.",variant:"destructive"})}};return(0,n.useEffect)(()=>{L()},[]),(0,t.jsx)(h.V,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Karanlık Dosya Y\xfckleme Sitesi"}),(0,t.jsxs)("div",{...N(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 mb-8 text-center cursor-pointer ".concat(w?"bg-gray-800":"bg-gray-700"),children:[(0,t.jsx)("input",{...v()}),(0,t.jsx)(i.Z,{className:"mx-auto mb-4",size:48}),w?(0,t.jsx)("p",{children:"Dosyaları buraya bırakın ..."}):(0,t.jsx)("p",{children:"Dosyaları buraya s\xfcr\xfckleyip bırakın veya dosya se\xe7mek i\xe7in tıklayın"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Maksimum dosya boyutu: 10MB"})]}),e.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Y\xfcklenen Dosyalar"}),(0,t.jsx)("ul",{className:"space-y-4",children:e.map((e,s)=>(0,t.jsxs)("li",{className:"bg-gray-800 p-4 rounded-lg flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[e.shareLink?(0,t.jsx)(l.Z,{className:"text-green-500 mr-2",size:20}):(0,t.jsx)(c.Z,{className:"text-yellow-500 mr-2",size:20}),(0,t.jsx)("span",{children:e.name})]}),e.shareLink&&(0,t.jsxs)(d.z,{variant:"outline",size:"sm",onClick:()=>z(e.shareLink),children:[(0,t.jsx)(o.Z,{className:"mr-2",size:16}),"Linki Kopyala"]})]},s))})]}),e.length>0&&(0,t.jsx)(d.z,{onClick:k,disabled:a,children:a?"Y\xfckleniyor...":"Dosyaları Y\xfckle"}),a&&(0,t.jsx)("div",{style:{marginTop:"1rem"},children:(0,t.jsx)(m.E,{value:y})}),j.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\xd6nceden Y\xfcklenen Dosyalar"}),(0,t.jsx)("ul",{className:"space-y-4",children:j.map((e,s)=>(0,t.jsxs)("li",{className:"bg-gray-800 p-4 rounded-lg flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(l.Z,{className:"text-green-500 mr-2",size:20}),(0,t.jsx)("span",{children:e.name})]}),(0,t.jsxs)(d.z,{variant:"outline",size:"sm",onClick:()=>z(e.shareLink),children:[(0,t.jsx)(o.Z,{className:"mr-2",size:16}),"Linki Kopyala"]})]},s))})]})]})})}}},function(e){e.O(0,[239,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);