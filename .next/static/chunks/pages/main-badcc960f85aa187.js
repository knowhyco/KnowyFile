(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{5206:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/main",function(){return s(5195)}])},569:function(e,t,s){"use strict";s.d(t,{z:function(){return n}});var r=s(5893);s(7294);let n=e=>{let{children:t,variant:s="default",size:n="default",...i}=e;return(0,r.jsx)("button",{className:"button ".concat(s," ").concat(n),...i,children:t})}},9447:function(e,t,s){"use strict";s.d(t,{E:function(){return n}});var r=s(5893);s(7294);let n=e=>{let{value:t}=e;return(0,r.jsx)("div",{className:"progress-container",children:(0,r.jsx)("div",{className:"progress-bar",style:{width:"".concat(t,"%")}})})}},6327:function(e,t,s){"use strict";s.d(t,{V:function(){return i}});var r=s(5893);s(7294);var n=s(640);let i=e=>{let{children:t}=e,{toasts:s}=(0,n.p)();return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2",children:s.map(e=>(0,r.jsxs)("div",{className:"p-4 rounded-md shadow-md ".concat("destructive"===e.variant?"bg-red-500":"bg-gray-800"," text-white"),children:[(0,r.jsx)("h3",{className:"font-bold",children:e.title}),(0,r.jsx)("p",{children:e.description})]},e.id))})]})}},640:function(e,t,s){"use strict";s.d(t,{A:function(){return i},p:function(){return n}});var r=s(7294);let n=()=>{let[e,t]=(0,r.useState)([]);return{toast:(0,r.useCallback)(e=>{t(t=>[...t,e]),setTimeout(()=>{t(e=>e.slice(1))},3e3)},[]),toasts:e}},i=e=>{let{toast:t}=n();t(e)}},5195:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(5893),n=s(7294),i=s(8901),a=s(6391),l=s(7340),c=s(3973),o=s(2604),d=s(569),u=s(9447),h=s(640),m=s(6327);function x(){let[e,t]=(0,n.useState)([]),[s,x]=(0,n.useState)(!1),[p,f]=(0,n.useState)(0),j=(0,n.useCallback)(e=>{t(t=>[...t,...e.map(e=>Object.assign(e,{preview:URL.createObjectURL(e),shareLink:null}))])},[]),{getRootProps:b,getInputProps:g,isDragActive:N}=(0,i.uI)({onDrop:j,maxSize:10485760}),v=async()=>{x(!0),f(0);for(let s=0;s<e.length;s++){let r=e[s];if(r.shareLink)continue;let n=new FormData;n.append("file",r);try{let r=await fetch("/api/upload",{method:"POST",body:n});if(!r.ok)throw Error("Upload failed");let i=await r.json();t(e=>e.map((e,t)=>t===s?{...e,shareLink:i.url}:e)),f((s+1)/e.length*100)}catch(e){console.error("Error uploading file:",e),(0,h.A)({title:"Upload Error",description:"Failed to upload ".concat(r.name),variant:"destructive"})}}x(!1)},k=e=>{navigator.clipboard.writeText(e),(0,h.A)({title:"Link Copied",description:"The sharing link has been copied to your clipboard."})};return(0,r.jsx)(m.V,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Dark File Upload Site"}),(0,r.jsxs)("div",{...b(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 mb-8 text-center cursor-pointer ".concat(N?"bg-gray-800":"bg-gray-700"),children:[(0,r.jsx)("input",{...g()}),(0,r.jsx)(a.Z,{className:"mx-auto mb-4",size:48}),N?(0,r.jsx)("p",{children:"Drop the files here ..."}):(0,r.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Max file size: 10MB"})]}),e.length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Uploaded Files"}),(0,r.jsx)("ul",{className:"space-y-4",children:e.map((e,t)=>(0,r.jsxs)("li",{className:"bg-gray-800 p-4 rounded-lg flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[e.shareLink?(0,r.jsx)(l.Z,{className:"text-green-500 mr-2",size:20}):(0,r.jsx)(c.Z,{className:"text-yellow-500 mr-2",size:20}),(0,r.jsx)("span",{children:e.name})]}),e.shareLink&&(0,r.jsxs)(d.z,{variant:"outline",size:"sm",onClick:()=>k(e.shareLink),children:[(0,r.jsx)(o.Z,{className:"mr-2",size:16}),"Copy Link"]})]},t))})]}),e.length>0&&(0,r.jsx)(d.z,{onClick:v,disabled:s,children:s?"Uploading...":"Upload Files"}),s&&(0,r.jsx)("div",{style:{marginTop:"1rem"},children:(0,r.jsx)(u.E,{value:p})})]})})}}},function(e){e.O(0,[239,888,774,179],function(){return e(e.s=5206)}),_N_E=e.O()}]);